import{_ as a,c as i,o as n,ae as t}from"./chunks/framework.BzF34yXA.js";const l="/dingtalk-plugin/assets/dtmt-example.BnWHmqIR.jpg",g=JSON.parse('{"title":"DTMD 协议的消息","description":"","frontmatter":{},"headers":[],"relativePath":"examples/dtmd.md","filePath":"examples/dtmd.md"}'),e={name:"examples/dtmd.md"};function p(h,s,k,d,E,r){return n(),i("div",null,s[0]||(s[0]=[t(`<h1 id="dtmd-协议的消息" tabindex="-1">DTMD 协议的消息 <a class="header-anchor" href="#dtmd-协议的消息" aria-label="Permalink to &quot;DTMD 协议的消息&quot;">​</a></h1><p>关于 DTMD 协议的消息，可以参考钉钉官方文档 资料较少</p><p><a href="https://dingtalk.com/qidian/help-detail-1060976699.html" target="_blank" rel="noreferrer">如何通过钉钉链接发送消息给机器人</a></p><p><a href="https://www.dingtalk.com/qidian/help-detail-1066741046.html" target="_blank" rel="noreferrer">dtmd介绍</a></p><p><a href="https://open.dingtalk.com/document/orgapp/dingtalk-chatbot-for-one-on-one-query" target="_blank" rel="noreferrer">dtmd协议只能在markdown actioncard feedcard 消息类型中使用</a></p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><code>dtmd</code> 协议只能在markdown、actioncard、feedcard 消息类型中使用</p></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pipeline {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    agent any</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    stages {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        stage(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;link&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            steps {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                echo </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;测试 MARKDOWN 消息...&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            post {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                success {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    dingtalk (</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                        robot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;3141dbb8-9d32-4344-8324-df6e2b522117&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                        type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MARKDOWN&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                        title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;你有新的消息，请注意查收&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                        text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                            &#39;# DTMD 消息&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                            &#39;- [点我](dtmd://dingtalkclient/sendMessage?content=你好)&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                            &#39;- [再点](dtmd://dingtalkclient/sendMessage?content=傻逼)&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><details class="details custom-block"><summary>查看结果</summary><p><img src="`+l+'" alt="dtmt-example"></p></details>',8)]))}const o=a(e,[["render",p]]);export{g as __pageData,o as default};
